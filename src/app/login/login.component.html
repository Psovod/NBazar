<div class="flex flex-row header-height-diff">
  <!-- Left Column for the Image -->
  <div class="hidden lg:block">
    <img
      class="object-cover min-h-full min-w-full h-full"
      src="https://placehold.co/800x1200"
      alt="Placeholder Image" />
  </div>

  <!-- Right Column for the Login Form -->
  <div class="flex-1 flex justify-center items-center lg:w-2/3 p-4">
    <form
      class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full lg:w-1/2"
      [ngClass]="{ 'blur-sm ': loading$ | async }"
      [formGroup]="form"
      (ngSubmit)="onSubmit()">
      <div
        class="mb-4"
        [formGroup]="form">
        <label
          class="block text-gray-700 text-base font-bold mb-2"
          for="email">
          Emailová adresa
        </label>
        <input
          class="appearance-none border-2 border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500"
          id="email"
          type="email"
          placeholder="Email"
          formControlName="email"
          [ngClass]="{
            'border-red-500': email.invalid && email.touched,
            'border-green-500': email.valid && email.touched
          }"
          required />
        <div
          *ngIf="email.errors && email.touched"
          class="text-red-500 text-xs italic mt-1">
          Prosím zadejte platnou emailovou adresu.
        </div>
      </div>
      <div
        class="mb-6"
        [formGroup]="form">
        <label
          class="block text-gray-700 text-base font-bold mb-2"
          for="password">
          Heslo
        </label>
        <input
          class="appearance-none border-2 border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:border-blue-500"
          id="password"
          type="password"
          placeholder="******************"
          formControlName="password"
          [ngClass]="{
            'border-red-500': password.invalid && password.touched,
            'border-green-500': password.valid && password.touched
          }"
          required />
        <div
          *ngIf="password.errors && password.touched"
          class="text-red-500 text-xs italic mt-1">
          Heslo zmrde.
        </div>
      </div>

      <div class="flex items-center justify-between">
        <button
          [ngClass]="{
            'opacity-50 cursor-not-allowed': form.invalid || (loading$ | async)
          }"
          [disabled]="form.invalid || (loading$ | async)"
          class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 w-full rounded focus:outline-none focus:shadow-outline">
          Prihlásit se
        </button>
      </div>
      <div class="text-right mt-4">
        <span class="text-blue-500 hover:text-blue-700 cursor-pointer">Zapomenuté heslo?</span>
      </div>
    </form>
    @if ( loading$ | async ) {
    <div class="flex justify-center items-center absolute">
      <div class="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"></div>
    </div>
    }
  </div>
</div>
